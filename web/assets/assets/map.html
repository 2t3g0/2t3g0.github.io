
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>네이버 지도</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=o1ksy5wmdl"></script>
    <style>
        #map {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body>
<div id="map"></div>

<script>
    // 지도 초기화
    var mapOptions = {
        center: new naver.maps.LatLng(35.1018526, 129.0259122), // 초기 좌표
        zoom: 15,
        mapTypeControl: true,
        zoomControl: true,
        indoorEnable: true,
    };
    var map = new naver.maps.Map('map', mapOptions);

    // 장소 데이터
    var places = {
        "국제시장": {
            coordinates: new naver.maps.LatLng(35.10066129734868, 129.0282440185547),
            description: "전통적인 문화유산.",
            id: "10"
        },
        "깡통시장": {
            coordinates: new naver.maps.LatLng(35.1018526, 129.0259122),
            description: "1910년대 최초의 공설시장 및 등록시장으로 부평사거리 시장과 한국전쟁을 이어 내려온 강한 생명력을 지닌 대한민국 대표시장.",
            id: "400005"
        }
    };

    for (var placeName in places) {
        var placeData = places[placeName];
        var coordinates = placeData.coordinates;
        var description = placeData.description;
        var placeId = placeData.id;

        // 마커 생성
        var marker = new naver.maps.Marker({
            position: coordinates,
            map: map,
            title: placeName,
            id: placeId,
        });

        // 인포윈도우 생성
        var infowindow = new naver.maps.InfoWindow({
            content: '<div style="padding:5px;">' + placeName + '<br>' + description + '</div>'
        });

        // 마커 클릭 시 해당 마커에 인포윈도우 열기
        (function(marker, infowindow) {
            naver.maps.Event.addListener(marker, 'click', function() {
                infowindow.open(map, marker);
            });
        })(marker, infowindow);  // 즉시 실행 함수로 marker와 infowindow를 바인딩
    }
</script>
</body>
</html>
